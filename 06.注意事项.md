# 注意事项

1. **EF Core:**

   + 一对多关系中, 主表和从表都要有Id, 否则迁移会失败。

   + 关联表的model实例**不会自动加载导航属性的数据**, 可使用include进行联表查询, 其中UnitOfWork用到的include为操作方法的入参include, 如图: 

     ![image-20210224182458939](6.注意事项.assets/image-20210224182458939.png)

     使用方法为: 其中【UserId】为**主表user表**的**导航属性**

     ![image-20210224182549915](6.注意事项.assets/image-20210224182549915.png)

     一个主表绑定两个从表:

     ```c#
     include: source => source.Include(blog => blog.Posts).Include(blog => blog.Posts2)
     ```

     嵌套绑定:

     ```c#
     include: source => source.Include(blog => blog.Posts).ThenInclude(post => post.Comments)
     ```
     
   + [NotMapped]特性可以从模型中**排除指定的类型**, 即指定的类型Class不会在数据库中生成表结构。
     
   + [Table("表名")]特性可以**手动设置表的名称**。([实体类型-EF Core | Microsoft Docs](https://docs.microsoft.com/zh-cn/ef/core/modeling/entity-types?tabs=data-annotations))
     
   + 每个实体类型将设置为DbSet属性同名的数据库表；如果给定的实体不存在DbSet, 则使用类名。

2. EPPlus :

   + column最大值为16384(2的14次方)。